cmake_minimum_required(VERSION 3.4...3.18)
project(primitive LANGUAGES CXX)

set(CMAKE_ARCHIVE_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/metacity/geometry)
set(CMAKE_LIBRARY_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/metacity/geometry)
set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/metacity/geometry)

find_package(CGAL REQUIRED COMPONENTS)

include_directories(metacity/geometry)
link_directories(metacity/geometry)


add_compile_options(-std=c++17 -Wall -pedantic -g -fsanitize=address -fno-omit-frame-pointer -shared-libasan)
add_link_options(-fsanitize=address -shared-libasan)
add_executable(primitive metacity/geometry/main.cpp metacity/geometry/cgal.hpp metacity/geometry/triangulation.hpp metacity/geometry/triangulation.cpp metacity/geometry/slicing.hpp metacity/geometry/slicing.cpp)


target_compile_definitions(${PROJECT_NAME} PUBLIC)

find_package(Eigen3 CONFIG REQUIRED)
target_link_libraries(${PROJECT_NAME} PRIVATE Eigen3::Eigen)

find_package(CGAL CONFIG REQUIRED)
target_link_libraries(${PROJECT_NAME} PRIVATE CGAL::CGAL)
